# 多元微分学学习笔记

【注】部分公式过长，github无法正常渲染，请左右滑动查看！

## 偏导数

```math
定义：设函数  z=f(x, y)  在点  \left(x_{0}, y_{0}\right)  的某一邻域内有定义，当  y  固定在  y_{0}  ，而  x  在  x_{0}  处有增量  \Delta x 时，相应地函数有增量： f\left(x_{0}+\Delta x, y_{0}\right)-f\left(x_{0}, y_{0}\right)  ，
```
```math
如果  \lim _{\Delta x \rightarrow 0} \frac{f\left(x_{0}+\Delta x, y_{0}\right)-f\left(x_{0}, y_{0}\right)}{\Delta x}  存在，则称此极限为函数  z=f(x, y)  在点  \left(x_{0}, y_{0}\right)  处对  x  的偏导数，记为  \left.\frac{\partial z}{\partial x}\right|_{\left(x_{0}, y_{0}\right)},\left.\frac{\partial f}{\partial x}\right|_{\left(x_{0}, y_{0}\right)}, z_{*}\left(x_{0}, y_{0}\right)  或  f_{x}\left(x_{0}, y_{0}\right)  ，即  f_{x}\left(x_{0}, y_{0}\right)=\lim _{\Delta x \rightarrow 0} \frac{f\left(x_{0}+\Delta x, y_{0}\right)-f\left(x_{0}, y_{0}\right)}{\Delta x}=\left.\frac{\mathrm{d}}{\mathrm{d} x} f\left(x, y_{0}\right)\right|_{x-x_{0}}  ．
```
```math
同理可定义函数  z=f(x, y)  在点  \left(x_{0}, y_{0}\right)  处对  y  的偏导数，为  \lim _{4 \rightarrow 0} \frac{f\left(x_{0}, y_{0}+\Delta y\right)-f\left(x_{0}, y_{0}\right)}{\Delta y} 
记为  \left.\frac{\partial z}{\partial y}\right|_{\left(x_{0}, y_{0}\right)},\left.\frac{\partial f}{\partial y}\right|_{\left(x_{0}, y_{0}\right)}, z_{y}\left(x_{0}, y_{0}\right)  或  f_{y}\left(x_{0}, y_{0}\right)  ．
即  f_{y}\left(x_{0}, y_{0}\right)=\lim _{4 y \rightarrow 0} \frac{f\left(x_{0}, y_{0}+\Delta y\right)-f\left(x_{0}, y_{0}\right)}{\Delta y}=\left.\frac{\mathrm{d}}{\mathrm{d} y} f\left(x_{0}, y\right)\right|_{y-w_{0}}  ．
```
```math
如果函数  z=f(x, y)  在区域  D  内任一点  (x, y)  处对  x  的偏导数都存在，那么这个偏导数就是  x, ~ y 的函数，它就称为函数  z=f(x, y)  对自变量  x  的偏导函数，简称偏导数，记作  \frac{\partial z}{\partial x}, \frac{\partial f}{\partial x}, z_{x}  或  f_{x}(x, y)  ．
同理可以定义函数  z=f(x, y)  对自变量  y  的偏导数，记作  \frac{\partial z}{\partial y}, \frac{\partial f}{\partial y}, z_{y}  或  f_{y}(x, y)  ．
```
```math
偏导数的概念可以推广到二元以上函数：
如  u=f(x, y, z)  在  (x, y, z)  处，
 f_{x}(x, y, z)=\lim _{\Delta x \rightarrow 0} \frac{f(x+\Delta x, y, z)-f(x, y, z)}{\Delta x} ,
 f_{y}(x, y, z)=\lim _{\Delta y \rightarrow 0} \frac{f(x, y+\Delta y, z)-f(x, y, z)}{\Delta y} ,
 f_{z}(x, y, z)=\lim _{\Delta z \rightarrow 0} \frac{f(x, y, z+\Delta z)-f(x, y, z)}{\Delta z} .
```

事实上，偏导数类似于导数，可以从其几何意义（二元偏导数）出发：

偏导数几何意义也是切线斜率， 但是由于曲面上一点的切线有无数条(实际上是个切面)，偏导数选取的是垂直于各坐标轴的几条特殊切线的斜率。

例如函数
```math
f(x,y)=x^{2}+3xy+y^{2}
```

求其对自变量x和自变量y的偏导数即是：

```math
\frac{\partial f}{\partial x}=2x+3y
```
```math
\frac{\partial f}{\partial y}=3x+2y
```

由此可见，在求多元函数的偏导数时，类似于一元函数的导数，将其他变量看作常量，对多元函数求导即可得到其关于某个自变量的偏导数。



## 微分

```math
微分是一个变量在某个变化过程中的改变量的线性主要部分。若函数y=f(x)在点x处有导数f'(x)存在，则y因x的变化量△x所引起的改变量是△y=f(x+△x)-f(x)=f'(x)·△x+o(△x)，式中o(△x)随△x趋于0。因此△y的线性形式的主要部分dy=f'(x)△x是y的微分。可见，微分作为函数的一种运算，是与求导（函）数的运算一致的。
```

上述定义摘自「百度词条」，关于微分不作多余介绍。



## 方向导数

首先学习方向导数的定义

```math
设向量u的单位方向向量e_{u}=\binom{cos\alpha }{cos\beta }，若如下极限存在，则该极限称为函数z=f(x,y)在(x_{0},y_{0})点沿方向u的方向导数，计作：
```
```math
\left.\frac{\partial f}{\partial u}\right|_{\begin{matrix}x=x_{0}\\y=y_{0}\end{matrix}}=\lim_{t \to 0^{+}}\frac{f(x_{0}+tcos\alpha ,y_{0}+tcos\beta )-f(x_{0},y_{0})}{t}  
```

我们可以这样理解方向导数的定义：

```math
(x_{0}+tcos\alpha ,y_{0}+tcos\beta )可以写作\left(\begin{matrix}x_{0}\\y_{0}\end{matrix} \right)+te_{u}
```

```math
所以(x_{0}+tcos\alpha ,y_{0}+tcos\beta )表示的就是一个动点，当t\to0^{+}时，改动点不断逼近(x_{0},y_{0})
```

```math
即当t\to0^{+}时，点f(x_{0}+tcos\alpha ,y_{0}+tcos\beta)会沿着函数f构成的曲面在u方向上不断逼近点f(x_{0},y_{0})
```

对于方向导数，有如下定理：

```math
如果f(x,y)在(x_{0},y_{0})点处可微分，那么函数f(x,y)在该点沿任意方向u的方向导数存在。设u的单位向量e_{u}=\binom{cos\alpha }{cos\beta }，则有：
```

```math
\left.\frac{\partial f}{\partial u}\right|_{\begin{matrix}x=x_{0}\\y=y_{0}\end{matrix}}=f_{x}(x_{0},y_{0})cos\alpha+f_{y}(x_{0},y_{0})cos\beta
```

关于该定理的证明从略，可以从微分角度对该定理进行证明。类似的，可以推广至三元函数u=f(x,y,z)：

```math
\left.\frac{\partial f}{\partial u}\right|_{\begin{matrix}x=x_{0}\\y=y_{0}\\z=z_{0}\end{matrix}}=f_{x}(x_{0},y_{0},z_{0})cos\alpha+f_{y}(x_{0},y_{0},z_{0})cos\beta+f_{z}(x_{0},y_{0},z_{0})cos\gamma
```



由此我们可以完成一个简单的例题：

```math
eg.已知f(x,y)=x^{2}+y^{2}，求函数在点(1,2)沿方向w=(3,-4)的方向导数
```

```math
首先求得cos\alpha=\frac{3}{5}，cos\beta=-\frac{4}{5}
```

```math
f_{x}(x,y)=2x，f_{y}(x,y)=2y，f_{x}(x_{0},y_{0})=2，f_{x}(x_{0},y_{0})=4
```

```math
于是方向导数为:\frac{3}{5}\times2+(-\frac{4}{5})\times4=-2
```



## 梯度

有了方向向量的基础，那么学习梯度的知识则较为容易，浅显的理解梯度即位坡度，且为最大的坡度，结合方向向量即是方向向量的最大者。

我们可以把方向导数看作两个向量点乘：

```math
\left.\frac{\partial f}{\partial u}\right|_{\begin{matrix}x=x_{0}\\y=y_{0}\end{matrix}}=f_{x}(x_{0},y_{0})cos\alpha+f_{y}(x_{0},y_{0})cos\beta=\left ( \begin{matrix}f_{x}(x_{0},y_{0})\\f_{y}(x_{0},y_{0})\end{matrix} \right)·\left ( \begin{matrix}cos\alpha \\cos\beta\end{matrix} \right )  
```

那么显然，由于单位向量e的模长固定，当两个向量方向相同时，此时该点处的方向导数值最大，于是我们得到函数f在该点处的梯度：

```math
\bigtriangledown f=gradf=\left ( \frac{\partial f}{\partial x},\frac{\partial f}{\partial y}   \right) 
```

在人工智能中，梯度主要应用于优化算法，尤其是梯度下降法。通过计算损失函数对模型参数的梯度，确定参数更新的方向和大小，从而逐步调整模型参数，使损失函数值不断减小，最终找到模型参数的最优解。



## 多元函数极值与偏导关系

我们引入二元函数极值的两个定理：

**定理一（必要条件）**

```math
设函数z=f(x,y)在点(x_{0},y_{0})具有偏导数，且在点(x_{0},y_{0})处有极值，则有f_{x}(x_{0},y_{0})=0,f_{y}(x_{0},y_{0})
```

**定理二（充分条件）**

```math
设函数z=f(x,y)在点(x_{0},y_{0})的某邻域内连续且有一阶及二阶连续偏导数，又f_{x}(x_{0},y_{0})=0,f_{y}(x_{0},y_{0})=0,令:f_{xx}(x_{0},y_{0})=A,f_{xy}(x_{0},y_{0})=B,f_{yy}(x_{0},y_{0})=C,则f(x,y)在(x_{0},y_{0})处是否取得极值的条件如下：
```

```math
(1)AC-B^{2}>0时，具有极值，且当A<0时具有极大值，反之同理;
```

```math
(2)AC-B^{2}<0时，无极值
```

```math
(3)AC-B^{2}=0时，不确定
```



## 条件极值